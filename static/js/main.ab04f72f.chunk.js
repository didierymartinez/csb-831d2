(this.webpackJsonpgastos=this.webpackJsonpgastos||[]).push([[2],{26:function(e,t,c){},28:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c(19),r=c.n(n),s=(c(17),c(8)),i=c(12),o=c.n(i),l=c(15),d=c(10),u=(c(26),c(1)),j=function(){return Object(u.jsxs)("div",{className:"bar",children:[Object(u.jsx)("div",{children:Object(u.jsx)("i",{className:"bi bi-card-list",role:"img","aria-label":"GitHub"})}),Object(u.jsx)("div",{children:Object(u.jsx)("i",{className:"bi bi-house-door active",role:"img","aria-label":"House"})}),Object(u.jsx)("div",{children:Object(u.jsx)("i",{className:"bi bi-cash",role:"img","aria-label":"GitHub"})})]})},b=function(e){return"$ ".concat(new Intl.NumberFormat("de-DE").format(e))},h=function(e){var t=e.nombre,c=e.saldo;return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t}),Object(u.jsx)("td",{className:"saldo",children:b(c)}),Object(u.jsx)("td",{children:Object(u.jsx)("i",{className:"bi bi-three-dots-vertical"})})]})},O=function(e){e.cuentas;var t=Object(a.useState)([]),c=Object(d.a)(t,2),n=c[0],r=c[1],i=new Date,j=Object(s.b)().doc("Didier/Balance/".concat(i.getFullYear(),"/").concat(i.getMonth()+1,"/")),b=function(){var e=Object(l.a)(o.a.mark((function e(){var t,c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=j.collection("Cuentas").where("Visible","==",!0)).onSnapshot((function(e){var t=[];e.forEach((function(e){return t.push(e.data())})),r(t)})),e.next=4,t.get();case 4:c=e.sent,a=c.docs.map((function(e){return e.data()})),r(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){b()}),[]),Object(u.jsxs)("table",{className:"cuentas",cellSpacing:"0",children:[Object(u.jsx)("thead",{children:Object(u.jsx)("tr",{children:Object(u.jsx)("th",{colSpan:"3",children:"Cuentas"})})}),Object(u.jsx)("tbody",{children:n.map((function(e,t){return Object(u.jsx)(h,{nombre:e.Descripcion,saldo:e.Saldo},t)}))})]})},p=c(7),f=function(e){var t=e.datosTransaccion,c=e.tipo,a=new Date,n=Object(s.b)().collection("Didier/Balance/".concat(a.getFullYear(),"/").concat(a.getMonth()+1,"/Cuentas")),r=n.doc("/".concat(t.CuentaCredito)),i=n.doc("/".concat(t.CuentaDebito)),o=Object(s.b)().doc("Didier/Balance/".concat(a.getFullYear(),"/").concat(a.getMonth()+1,"/").concat(c,"/").concat(t.Descripcion)),l={Fecha:new Date,Descripcion:t.Descripcion};return Object(u.jsxs)("div",{className:"transaccion",children:[Object(u.jsxs)("div",{className:"Encabezado",children:[Object(u.jsx)("div",{children:t.Descripcion}),Object(u.jsxs)("div",{className:"transacion-control",children:[Object(u.jsxs)("span",{className:"dia",children:["D\xeda: ",t.DiaLimite]}),Object(u.jsx)("i",{className:"bi bi-three-dots"})]})]}),Object(u.jsxs)("div",{className:"Detalle",children:[Object(u.jsx)("div",{className:"valor",children:b(t.Valor)}),Object(u.jsx)("div",{children:Object(u.jsx)("i",{className:"bi bi-check2-circle",onClick:function(){var e=p.a.firestore.FieldValue.increment;t.CuentaCredito&&(l.Credito=t.Valor,l.Debito=0,r.update({Saldo:e(t.Valor),Movimientos:p.a.firestore.FieldValue.arrayUnion(l)})),t.CuentaDebito&&(l.Credito=0,l.Debito=t.Valor,i.update({Saldo:e(-t.Valor),Movimientos:p.a.firestore.FieldValue.arrayUnion(l)})),o.update({Procesada:!0})}})})]})]})},x=function(e){var t=e.transacciones,c=e.tipo;return Object(u.jsx)("div",{children:t.sort((function(e,t){return e.DiaLimite-t.DiaLimite})).map((function(e,t){return Object(u.jsx)(f,{datosTransaccion:e,tipo:c},t)}))})};function m(){var e=new Date,t=e.toLocaleString("default",{month:"long"}),c=Object(a.useState)([]),n=Object(d.a)(c,2),r=n[0],i=n[1],b=Object(a.useState)([]),h=Object(d.a)(b,2),p=h[0],f=h[1],m=Object(a.useState)([]),v=Object(d.a)(m,2),g=v[0],D=v[1],S=Object(a.useState)([]),w=Object(d.a)(S,2),N=w[0],C=w[1],y=Object(s.b)().doc("Didier/Balance/".concat(e.getFullYear(),"/").concat(e.getMonth()+1,"/")),E=function(){var e=Object(l.a)(o.a.mark((function e(){var t,c,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.collection("Ingresos").where("Procesada","==",!1).get();case 2:return t=e.sent,i(t.docs.map((function(e){return e.data()}))),y.collection("Ingresos").where("Procesada","==",!1).onSnapshot((function(e){var t=[];e.forEach((function(e){return t.push(e.data())})),i(t)})),e.next=7,y.collection("Deudas").where("Procesada","==",!1).get();case 7:return c=e.sent,f(c.docs.map((function(e){return e.data()}))),y.collection("Deudas").where("Procesada","==",!1).onSnapshot((function(e){var t=[];e.forEach((function(e){return t.push(e.data())})),f(t)})),e.next=12,y.collection("Servicios").where("Procesada","==",!1).get();case 12:return a=e.sent,D(a.docs.map((function(e){return e.data()}))),y.collection("Servicios").where("Procesada","==",!1).onSnapshot((function(e){var t=[];e.forEach((function(e){return t.push(e.data())})),D(t)})),e.next=17,y.collection("Recurrente").where("Procesada","==",!1).get();case 17:n=e.sent,C(n.docs.map((function(e){return e.data()})));case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){E()}),[]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)("h1",{children:[" ",t," 2021"]}),Object(u.jsxs)("section",{className:"main",children:[Object(u.jsx)(O,{}),Object(u.jsx)("h2",{style:{color:"#219653"},children:"Ingresos"}),Object(u.jsx)(x,{transacciones:r,tipo:"Ingresos"}),Object(u.jsx)("h2",{style:{color:"#EB5757"},children:"Deudas"}),Object(u.jsx)(x,{transacciones:p,tipo:"Deudas"}),Object(u.jsx)("h2",{style:{color:"#EB5757"},children:"Servicios"}),Object(u.jsx)(x,{transacciones:g,tipo:"Servicios"}),Object(u.jsx)("h2",{style:{color:"#EB5757"},children:"Recurrente"}),Object(u.jsx)(x,{transacciones:N,tipo:"Recurrente"})]}),Object(u.jsx)(j,{})]})}var v=document.getElementById("root");r.a.render(Object(u.jsx)(a.StrictMode,{children:Object(u.jsx)(s.a,{firebaseConfig:{apiKey:"AIzaSyDfnfwxdFNGzeZgh27uhgyf58nsCqDtCr4",authDomain:"balance-8ec03.firebaseapp.com",projectId:"balance-8ec03",storageBucket:"balance-8ec03.appspot.com",messagingSenderId:"698977512262",appId:"1:698977512262:web:5ab45396209f36fc0b5347"},children:Object(u.jsx)(a.Suspense,{fallback:Object(u.jsx)("p",{children:"Cargando..."}),children:Object(u.jsx)(m,{})})})}),v)}},[[28,3,4]]]);
//# sourceMappingURL=main.ab04f72f.chunk.js.map