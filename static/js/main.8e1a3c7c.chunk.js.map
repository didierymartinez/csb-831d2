{"version":3,"sources":["components/Nav.js","Funciones.js","components/Cuenta.js","components/Cuentas.js","components/Transaccion.js","components/Transacciones.js","App.js","index.js","firebaseConfig.js"],"names":["Nav","className","role","aria-label","Money","val","Intl","NumberFormat","format","Cuenta","nombre","saldo","Cuentas","cuentas","useState","_cuentas","setCuentas","date","Date","db","useFirestore","doc","getFullYear","getMonth","fetchCuentas","a","response","collection","where","onSnapshot","e","inf","forEach","x","push","data","get","info","docs","map","item","useEffect","cellSpacing","colSpan","i","Descripcion","Saldo","Transaccion","datosTransaccion","tipo","bd","cuentaCred","CuentaCredito","cuentaDeb","CuentaDebito","transaccion","mov","Fecha","DiaLimite","Valor","onClick","increment","firebase","firestore","FieldValue","Credito","Debito","update","Movimientos","arrayUnion","Procesada","Transacciones","transacciones","sort","b","App","mes","toLocaleString","month","ingresos","setIngresos","deudas","setDeudas","servicios","setServicios","recurrente","setRecurrente","fetchTransacciones","dataIngresos","dataDeudas","dataServicios","dataRecurrente","style","color","rootElement","document","getElementById","ReactDOM","render","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","fallback"],"mappings":"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","file":"static/js/main.8e1a3c7c.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Nav = () => {\r\n  return (\r\n    <div className=\"bar\">\r\n      <div>\r\n        <i className=\"bi bi-card-list\" role=\"img\" aria-label=\"GitHub\"></i>\r\n      </div>\r\n      <div>\r\n        <i\r\n          className=\"bi bi-house-door active\"\r\n          role=\"img\"\r\n          aria-label=\"House\"\r\n        ></i>\r\n      </div>\r\n      <div>\r\n        <i className=\"bi bi-cash\" role=\"img\" aria-label=\"GitHub\"></i>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Nav;\r\n","const Money = (val) => `$ ${new Intl.NumberFormat(\"de-DE\").format(val)}`;\r\nexport { Money };\r\n","import React from \"react\";\r\nimport { Money } from \"../Funciones\";\r\n\r\nconst Cuenta = ({ nombre, saldo }) => {\r\n  return (\r\n    <tr>\r\n      <td>{nombre}</td>\r\n      <td className=\"saldo\">{Money(saldo)}</td>\r\n      <td>\r\n        <i className=\"bi bi-three-dots-vertical\"></i>\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default Cuenta;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Cuenta from \"./Cuenta\";\r\nimport { useFirestore } from \"reactfire\";\r\nimport \"firebase/firestore\";\r\n\r\nconst Cuentas = ({ cuentas }) => {\r\n  const [_cuentas, setCuentas] = useState([]);\r\n  const date = new Date();\r\n  const db = useFirestore().doc(\r\n    `Didier/Balance/${date.getFullYear()}/${date.getMonth() + 1}/`\r\n  );\r\n\r\n  const fetchCuentas = async () => {\r\n    const response = db.collection(\"Cuentas\").where(\"Visible\", \"==\", true);\r\n    response.onSnapshot((e) => {\r\n      let inf = [];\r\n      e.forEach((x) => inf.push(x.data()));\r\n      setCuentas(inf);\r\n    });\r\n    const data = await response.get();\r\n\r\n    const info = data.docs.map((item) => item.data());\r\n    setCuentas(info);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchCuentas();\r\n  }, []);\r\n\r\n  return (\r\n    <table className=\"cuentas\" cellSpacing=\"0\">\r\n      <thead>\r\n        <tr>\r\n          <th colSpan=\"3\">Cuentas</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {_cuentas.map((x, i) => (\r\n          <Cuenta key={i} nombre={x.Descripcion} saldo={x.Saldo} />\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default Cuentas;\r\n","import React from \"react\";\r\nimport { Money } from \"../Funciones\";\r\nimport { useFirestore } from \"reactfire\";\r\nimport firebase from \"firebase/app\";\r\n\r\nconst Transaccion = ({ datosTransaccion, tipo }) => {\r\n  const date = new Date();\r\n\r\n  const bd = useFirestore().collection(\r\n    `Didier/Balance/${date.getFullYear()}/${date.getMonth() + 1}/Cuentas`\r\n  );\r\n\r\n  const cuentaCred = bd.doc(`/${datosTransaccion.CuentaCredito}`);\r\n  const cuentaDeb = bd.doc(`/${datosTransaccion.CuentaDebito}`);\r\n\r\n  const transaccion = useFirestore().doc(\r\n    `Didier/Balance/${date.getFullYear()}/${date.getMonth() + 1}/${tipo}/${\r\n      datosTransaccion.Descripcion\r\n    }`\r\n  );\r\n\r\n  let mov = {\r\n    Fecha: new Date(),\r\n    Descripcion: datosTransaccion.Descripcion\r\n  };\r\n\r\n  const Pagar = () => {\r\n    const increment = firebase.firestore.FieldValue.increment;\r\n    if (!!datosTransaccion.CuentaCredito) {\r\n      mov.Credito = datosTransaccion.Valor;\r\n      mov.Debito = 0;\r\n      cuentaCred.update({\r\n        Saldo: increment(datosTransaccion.Valor),\r\n        Movimientos: firebase.firestore.FieldValue.arrayUnion(mov)\r\n      });\r\n    }\r\n    if (!!datosTransaccion.CuentaDebito) {\r\n      mov.Credito = 0;\r\n      mov.Debito = datosTransaccion.Valor;\r\n      cuentaDeb.update({\r\n        Saldo: increment(-datosTransaccion.Valor),\r\n        Movimientos: firebase.firestore.FieldValue.arrayUnion(mov)\r\n      });\r\n    }\r\n\r\n    transaccion.update({ Procesada: true });\r\n  };\r\n\r\n  return (\r\n    <div className=\"transaccion\">\r\n      <div className=\"Encabezado\">\r\n        <div>{datosTransaccion.Descripcion}</div>\r\n        <div className=\"transacion-control\">\r\n          <span className=\"dia\">DÃ­a: {datosTransaccion.DiaLimite}</span>\r\n          <i className=\"bi bi-three-dots\"></i>\r\n        </div>\r\n      </div>\r\n      <div className=\"Detalle\">\r\n        <div className=\"valor\">{Money(datosTransaccion.Valor)}</div>\r\n        <div>\r\n          <i className=\"bi bi-check2-circle\" onClick={Pagar}></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Transaccion;\r\n","import React from \"react\";\r\nimport Transaccion from \"./Transaccion\";\r\n\r\nconst Transacciones = ({ transacciones, tipo }) => {\r\n  return (\r\n    <div>\r\n      {transacciones\r\n        .sort((a, b) => a.DiaLimite - b.DiaLimite)\r\n        .map((transaccion, i) => (\r\n          <Transaccion key={i} datosTransaccion={transaccion} tipo={tipo} />\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Transacciones;\r\n","import \"./styles.css\";\nimport React, { useState, useEffect } from \"react\";\n\nimport Nav from \"./components/Nav\";\nimport Cuentas from \"./components/Cuentas\";\nimport Transacciones from \"./components/Transacciones\";\nimport iniciarBD from \"./IniciarBD\";\n\nimport { useFirestore } from \"reactfire\";\nimport \"firebase/firestore\";\n\nexport default function App() {\n  const date = new Date();\n  const mes = date.toLocaleString(\"default\", { month: \"long\" });\n\n  const [ingresos, setIngresos] = useState([]);\n  const [deudas, setDeudas] = useState([]);\n  const [servicios, setServicios] = useState([]);\n  const [recurrente, setRecurrente] = useState([]);\n\n  const db = useFirestore().doc(\n    `Didier/Balance/${date.getFullYear()}/${date.getMonth() + 1}/`\n  );\n\n  //iniciarBD(db);\n\n  const fetchTransacciones = async () => {\n    const dataIngresos = await db\n      .collection(\"Ingresos\")\n      .where(\"Procesada\", \"==\", false)\n      .get();\n\n    setIngresos(dataIngresos.docs.map((item) => item.data()));\n\n    db.collection(\"Ingresos\")\n      .where(\"Procesada\", \"==\", false)\n      .onSnapshot((e) => {\n        let inf = [];\n        e.forEach((x) => inf.push(x.data()));\n        setIngresos(inf);\n      });\n\n    const dataDeudas = await db\n      .collection(\"Deudas\")\n      .where(\"Procesada\", \"==\", false)\n      .get();\n\n    setDeudas(dataDeudas.docs.map((item) => item.data()));\n\n    db.collection(\"Deudas\")\n      .where(\"Procesada\", \"==\", false)\n      .onSnapshot((e) => {\n        let inf = [];\n        e.forEach((x) => inf.push(x.data()));\n        setDeudas(inf);\n      });\n\n    const dataServicios = await db\n      .collection(\"Servicios\")\n      .where(\"Procesada\", \"==\", false)\n      .get();\n    setServicios(dataServicios.docs.map((item) => item.data()));\n\n    db.collection(\"Servicios\")\n      .where(\"Procesada\", \"==\", false)\n      .onSnapshot((e) => {\n        let inf = [];\n        e.forEach((x) => inf.push(x.data()));\n        setServicios(inf);\n      });\n\n    const dataRecurrente = await db\n      .collection(\"Recurrente\")\n      .where(\"Procesada\", \"==\", false)\n      .get();\n    setRecurrente(dataRecurrente.docs.map((item) => item.data()));\n  };\n\n  useEffect(() => {\n    fetchTransacciones();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <h1> {mes} 2021</h1>\n      <section className=\"main\">\n        <Cuentas />\n        <h2 style={{ color: \"#219653\" }}>Ingresos</h2>\n        <Transacciones transacciones={ingresos} tipo=\"Ingresos\" />\n        <h2 style={{ color: \"#EB5757\" }}>Deudas</h2>\n        <Transacciones transacciones={deudas} tipo=\"Deudas\" />\n        <h2 style={{ color: \"#EB5757\" }}>Servicios</h2>\n        <Transacciones transacciones={servicios} tipo=\"Servicios\" />\n        <h2 style={{ color: \"#EB5757\" }}>Recurrente</h2>\n        <Transacciones transacciones={recurrente} tipo=\"Recurrente\" />\n      </section>\n      <Nav />\n    </div>\n  );\n}\n","import { StrictMode, Suspense } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport firebaseConfig from \"./firebaseConfig\";\nimport \"firebase/firestore\";\nimport {\n  FirebaseAppProvider,\n  useFirestoreDocData,\n  useFirestore\n} from \"reactfire\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <FirebaseAppProvider firebaseConfig={firebaseConfig}>\n      <Suspense fallback={<p>Cargando...</p>}>\n        <App />\n      </Suspense>\n    </FirebaseAppProvider>\n  </StrictMode>,\n  rootElement\n);\n","export default {\r\n  apiKey: \"AIzaSyDfnfwxdFNGzeZgh27uhgyf58nsCqDtCr4\",\r\n  authDomain: \"balance-8ec03.firebaseapp.com\",\r\n  projectId: \"balance-8ec03\",\r\n  storageBucket: \"balance-8ec03.appspot.com\",\r\n  messagingSenderId: \"698977512262\",\r\n  appId: \"1:698977512262:web:5ab45396209f36fc0b5347\"\r\n};\r\n"],"sourceRoot":""}